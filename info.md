# JPA

## 다대다 관계는 사용하면 안된다

1. 해당 강의는 다대다를 사용하였지만 실제 운영에서는 사용하지 않는 것이 좋다

## 양방향 통신또한 사용하면 안된다

1. 양방향 통신은 사용하지 않는 것을 추천하고 한곳에서만 관리하도록 하자
2. 실제 DB에서 어떤 것을 중점으로 변경해야 할지 혼선이 올 수 있다
3. 보통 연관관계의 주인을 정해서 사용하고 1대다 관계에서 다수 부분을(외래 키) 주인으로 정한다

## 연관관계 설정

모든 연관관계는 지연로딩으로 설정 </br>
즉시로딩(EAGER)은 예측이 어렵고 어떤 SQL이 실행될지 추적하기 어렵다.<br>
실무에서는 지연로딩(LAZY)로 설정하는 것이 좋다<br>
@XToOne(OneToOne, ManyToOne) 관계는 기본이 즉시로딩이므로 직접 지연로딩으로 설정해야 한다.

## 컬랙션은 필드에서 초기화하자

1. 피릍에서 초기화하는것이 안전하다
2. null 문제에서 안전하게 사용가능
3. 필드레벨에서 초기화해서 사용하는것이 가장 안전하고 간결하다